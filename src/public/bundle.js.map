{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/animation.js","webpack:///./src/app/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Animation","data","socketCallback","_this","this","_classCallCheck","animater","p5","setup","draw","id","currentDisplay","amplitude","theta","rangeColor","obstacules","decreasingY","left","right","players","circleRadius","initialTime","Date","now","lastTime","firstAppear","canvas","createCanvas","window","innerWidth","innerHeight","_this2","background","textSize","text","fill","forEach","player","ellipse","position","x","y","up","down","moving","keyCode","_animation","Main","io","emit","width","height","on","animation","_animation2","default","event","getId","display","addPlayers","loadListenner","document","addEventListener","e","keyDownHandler","keyUpHandler","key","keyDown","keyUp"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class Animation {\r\n\r\n  constructor(data, socketCallback) {\r\n    this.animater = p5 => {\r\n      p5.setup = () => {\r\n        this.setup(p5);\r\n      }\r\n      p5.draw = () => {\r\n        this.draw(p5);\r\n      }\r\n    }\r\n\r\n    this.p5 = new p5(this.animater);\r\n    this.id = data.id;\r\n    this.currentDisplay = data.currentDisplay;\r\n    this.socketCallback = socketCallback;\r\n    this.amplitude = 80;\r\n    this.theta = 0.0;\r\n    this.rangeColor = 200;\r\n    this.obstacules = [];\r\n    this.decreasingY = 0;\r\n    this.left = false;\r\n    this.right = false;\r\n    this.players = [data];\r\n    this.circleRadius = 80;\r\n    //Text config\r\n    this.initialTime = Date.now() + 3000; //initial delay time\r\n    this.lastTime = 0;\r\n    this.firstAppear = false;\r\n  }\r\n\r\n  setup(p5) {\r\n    this.canvas = p5.createCanvas(window.innerWidth, window.innerHeight);\r\n  }\r\n\r\n  draw(p5) {\r\n    //clean screen\r\n    p5.background(150, this.rangeColor - 4, this.rangeColor);\r\n\r\n    if(this.initialTime >= this.lastTime) {\r\n      p5.textSize(32);\r\n      p5.text('Player '+this.id, window.innerWidth /2, window.innerHeight /2);\r\n      p5.fill(0, 102, 153);\r\n\r\n      this.lastTime = Date.now();\r\n    }\r\n\r\n    //Iterate every object's position and validate if some reach the display limit\r\n    this.players.forEach( player => {\r\n      //Only paint the players that are at this display\r\n      if(player.currentDisplay === this.id) p5.ellipse(player.position.x, player.position.y, this.circleRadius, this.circleRadius);\r\n    });\r\n\r\n    if(this.left) {\r\n      this.socketCallback({name: 'moveLeft'});\r\n    }\r\n    if(this.right) {\r\n      this.socketCallback({name: 'moveRight'});\r\n    }\r\n    if(this.up) {\r\n      this.socketCallback({name: 'moveLeft'});\r\n    }\r\n    if(this.down) {\r\n      this.socketCallback({name: 'moveRight'});\r\n    }\r\n\r\n  }\r\n\r\n  getId() {\r\n    return this.id;\r\n  }\r\n\r\n  movePlayer(position) {\r\n    this.moving = true;\r\n    this.x = position.x;\r\n  }\r\n\r\n  setPosition(position) {\r\n    this.position = position;\r\n    //this.positions.push(position);\r\n  }\r\n\r\n  addPlayers(players) {\r\n    this.players = players;\r\n  }\r\n\r\n  keyDown(keyCode) {\r\n    if(keyCode === 37) { //left\r\n        this.left = true;\r\n    } else if(keyCode === 39) { //right\r\n        this.right = true;\r\n    }\r\n  }\r\n\r\n  keyUp(keyCode) {\r\n    if(keyCode === 37) { //left\r\n        this.left = false;\r\n    } else if(keyCode === 39) { //right\r\n        this.right = false;\r\n    }\r\n  }\r\n}\r\n","import Animation from './animation';\r\n\r\nclass Main {\r\n\r\n  constructor() {\r\n    this.id = null;\r\n    this.io = io();\r\n    this.io.emit('sendDisplayLimits', {width: window.innerWidth, height: window.innerHeight});\r\n    this.io.on('init', data => {\r\n      this.animation = new Animation(data, event => {\r\n        this.io.emit(event.name, {id: this.animation.getId(), display: { width: window.innerWidth, height: window.innerHeight }});\r\n      });\r\n    });\r\n\r\n    this.io.on('getPlayers', players => {\r\n      this.animation.addPlayers(players);\r\n    });\r\n\r\n    this.loadListenner();\r\n  }\r\n\r\n  loadListenner() {\r\n    document.addEventListener('touchdown', e => {\r\n      this.io.emit('touchdown', {width: window.innerWidth, height: window.innerHeight});\r\n    //  this.mousemoveHandler(e);\r\n    });\r\n    document.addEventListener('mousemove', e => {\r\n    //  this.mousemoveHandler(e);\r\n    });\r\n\r\n    document.addEventListener('keydown', e => {\r\n      this.keyDownHandler(e);\r\n    });\r\n\r\n    document.addEventListener('keyup', e => {\r\n      this.keyUpHandler(e);\r\n    });\r\n  }\r\n\r\n  keyDownHandler(key) {\r\n    let {keyCode} = key;\r\n    this.animation.keyDown(keyCode);\r\n  }\r\n\r\n  keyUpHandler(key) {\r\n    let {keyCode} = key;\r\n    this.animation.keyUp(keyCode);\r\n  }\r\n\r\n}\r\n\r\nconst game = new Main();\r\n"],"sourceRoot":""}