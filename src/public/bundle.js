!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var a=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animater=function(t){t.setup=function(){n.setup(t)},t.draw=function(){n.draw(t)}},this.p5=new p5(this.animater),this.id=e.id,this.currentDisplay=e.currentDisplay,this.socketCallback=i,this.amplitude=80,this.theta=0,this.rangeColor=200,this.obstacules=[],this.decreasingY=0,this.left=!1,this.right=!1,this.players=[e],this.circleRadius=80,this.initialTime=Date.now()+3e3,this.lastTime=0,this.firstAppear=!1}return n(t,[{key:"setup",value:function(t){this.canvas=t.createCanvas(window.innerWidth,window.innerHeight)}},{key:"draw",value:function(t){var e=this;t.background(150,this.rangeColor-4,this.rangeColor),this.initialTime>=this.lastTime&&(t.textSize(32),t.text("Player "+this.id,window.innerWidth/2,window.innerHeight/2),t.fill(0,102,153),this.lastTime=Date.now()),this.players.forEach(function(i){t.ellipse(i.position.x,i.position.y,e.circleRadius,e.circleRadius)}),this.left&&this.socketCallback({name:"moveLeft"}),this.right&&this.socketCallback({name:"moveRight"}),this.up&&this.socketCallback({name:"moveLeft"}),this.down&&this.socketCallback({name:"moveRight"})}},{key:"getId",value:function(){return this.id}},{key:"movePlayer",value:function(t){this.moving=!0,this.x=t.x}},{key:"setPosition",value:function(t){this.position=t}},{key:"addPlayers",value:function(t){this.players=t}},{key:"keyDown",value:function(t){37===t?this.left=!0:39===t&&(this.right=!0)}},{key:"keyUp",value:function(t){37===t?this.left=!1:39===t&&(this.right=!1)}}]),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=new AudioContext,this.oscillator=this.context.createOscillator(),this.oscillator.type="sine",this.gain=this.context.createGain(),this.oscillator.connect(this.gain),this.gain.connect(this.context.destination),this.oscillator.start(0)}return n(t,[{key:"changeGain",value:function(t){this.oscillator.frequency.value=t,this.pressing&&this.gain.gain.exponentialRampToValueAtTime(t,this.context.currentTime+.04)}},{key:"validateKey",value:function(t){switch(t){case 49:this.playNote(30.87);break;case 50:this.playNote(61.74);break;case 51:this.playNote(123.5);break;case 52:this.playNote(246.9);break;case 53:this.playNote(493.9);break;case 54:this.playNote(987.8);break;case 55:this.playNote(1976);break;case 56:this.playNote(3951)}}},{key:"playNote",value:function(t){this.oscillator.frequency.value=t,this.gain.gain.exponentialRampToValueAtTime(1,this.context.currentTime+.04)}}]),t}();e.default=a},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(o(i(1)),o(i(0)));function o(t){return t&&t.__esModule?t:{default:t}}new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.io=io(),this.io.emit("sendDisplayLimits",{width:window.innerWidth,height:window.innerHeight}),this.io.on("init",function(t){e.animation=new a.default(t,function(t){e.io.emit(t.name,{id:e.animation.getId(),display:{width:window.innerWidth,height:window.innerHeight}})})}),this.io.on("getPlayers",function(t){e.animation.addPlayers(t)}),this.loadListenner()}return n(t,[{key:"loadListenner",value:function(){var t=this;document.addEventListener("mousemove",function(t){}),document.addEventListener("keydown",function(e){t.keyDownHandler(e)}),document.addEventListener("keyup",function(e){t.keyUpHandler(e)})}},{key:"keyDownHandler",value:function(t){var e=t.keyCode;this.animation.keyDown(e)}},{key:"keyUpHandler",value:function(t){var e=t.keyCode;this.animation.keyUp(e)}}]),t}())}]);
//# sourceMappingURL=bundle.js.map